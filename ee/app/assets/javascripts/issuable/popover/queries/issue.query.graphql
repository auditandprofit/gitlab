#import "~/graphql_shared/fragments/user.fragment.graphql"
#import "ee/work_items/graphql/work_item_status.fragment.graphql"

query workItemPopoverEE($fullPath: ID!, $iid: String!) {
  namespace(fullPath: $fullPath) {
    id
    workItem(iid: $iid) {
      id
      iid
      confidential
      createdAt
      fullReference: reference(full: true)
      state
      title
      workItemType {
        id
        name
        iconName
      }
      widgets {
        ... on WorkItemWidgetAssignees {
          type
          assignees {
            nodes {
              ...User
            }
          }
        }
        ... on WorkItemWidgetMilestone {
          type
          milestone {
            id
            dueDate
            startDate
            title
          }
        }
        ... on WorkItemWidgetStartAndDueDate {
          type
          dueDate
          startDate
        }
        ... on WorkItemWidgetWeight {
          type
          weight
        }
        ... on WorkItemWidgetStatus {
          type
          status {
            ...WorkItemStatusFragment
          }
        }
      }
    }
  }
}
